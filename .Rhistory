# Should print out something like:
#>          id    forum gender              title                  content
#> 1 232519207   makeup      F             皮膚細...    每次上網看人家形容...
#> 2 232518995   makeup      F       終於考完期中...      對於愛看棒球的我...
#> 3 232518833   makeup      F        分享 韓國輸...    這篇跟上一篇的溫柔...
#> 4 232517835 freshman      F   急！《彩      式...    大家好～\n因為比賽...
#> 5 232516213 freshman      M    成大是ㄅ是都4廢...       如T\n開戰阿\n窩...
#> 6 232515512 freshman      M     我要想過泓光跟...      除了分數比較差異...
# Your code goes here
post_ids <- c()
content <- c()
forum <- c()
gender <- c()
title <- c()
for (f in c("makeup", "freshmen")) {
resp_f <- GET(base_url, path = c("_api", "forums", f ,"posts"))
for (i in 1:3) {
post_id <- content(resp_f)[[i]]$id
resp_p <- GET(base_url, path = c("_api", "post", post_id))
post_ids <- c(post_ids, post_id)
content <- c(content, content(resp_p)$content)
forum <- c(forum, f)
gender <- c(gender, content(resp_p)$gender)
title <- c(title, content(resp_p)$title)
}
}
df <- data.frame("id" = post_ids, "forum" = forum, "gender" = gender, "title" = title, "content" = content)
df
# Should print out something like:
#>          id    forum gender              title                  content
#> 1 232519207   makeup      F             皮膚細...    每次上網看人家形容...
#> 2 232518995   makeup      F       終於考完期中...      對於愛看棒球的我...
#> 3 232518833   makeup      F        分享 韓國輸...    這篇跟上一篇的溫柔...
#> 4 232517835 freshman      F   急！《彩      式...    大家好～\n因為比賽...
#> 5 232516213 freshman      M    成大是ㄅ是都4廢...       如T\n開戰阿\n窩...
#> 6 232515512 freshman      M     我要想過泓光跟...      除了分數比較差異...
library(httr)
req <- GET('https://www.dcard.tw/',
path = c("_api", "forums", "makeup", "posts"))
req[["status_code"]]
makeup_idx <- content(req)
# Your code goes here
query_id <- makeup_idx[[1]]$id
query_id
# 因為文章隨時會更新，所以結果不會一樣
# Should print out something like:
#> [1] 232518734
# Your code goes here
base_url <- "https://www.dcard.tw/"
query <- GET(base_url, path = c("_api", "posts", query_id))
content(query)[["content"]]
# Should print out something like:
#> [1] "對於愛看棒球的我，雖然無法到現場加油但心要同在～\n我愛韓國輸啦！！！\n趁著棒球魂上身來分享一下棒球加油妝\n \nBTW啦啦隊氣氛整個超嗨\n每個選手上場必唱特定應援曲+動作\n超想衝去前面跟啦啦隊一起跳-///-\n \n妝容如下\nhttps://i.imgur.com/IrH709F.jpg\nhttps://i.imgur.com/NGJ0vnV.jpg\n自備加油棒超有看棒球的感覺（握\n \n特別分享我最近好愛的紅唇GA唇萃#400💋💋💋\n是亞曼尼正紅，充滿活力又年輕的正紅色\n真的超美超級飽和的\n拿來畫紅唇和Logo(?!)完美❤❤❤\nhttps://i.imgur.com/pGu8Mgy.jpg\nhttps://i.imgur.com/oM0HlkN.jpg\n日常妝也可以駕馭的好看紅唇💋\n小女子口紅不嫌多啊❤\n簡單棒球加油妝分享到這邊\n雖然中華隊還是輸了\n不過你們超棒！！！以你們為榮\n \n有沒有人最近也燃燒棒球魂的～～"
# Your code goes here
post_ids <- c()
content <- c()
forum <- c()
gender <- c()
title <- c()
for (f in c("makeup", "freshmen")) {
resp_f <- GET(base_url, path = c("_api", "forums", f ,"posts"))
for (i in 1:3) {
post_id <- content(resp_f)[[i]]$id
resp_p <- GET(base_url, path = c("_api", "post", post_id))
post_ids <- c(post_ids, post_id)
content <- c(content, content(resp_p)$content)
forum <- c(forum, f)
gender <- c(gender, content(resp_p)$gender)
title <- c(title, content(resp_p)$title)
}
}
df <- data.frame("id" = post_ids, "forum" = forum, "gender" = gender, "title" = title, "content" = content)
df
# Should print out something like:
#>          id    forum gender              title                  content
#> 1 232519207   makeup      F             皮膚細...    每次上網看人家形容...
#> 2 232518995   makeup      F       終於考完期中...      對於愛看棒球的我...
#> 3 232518833   makeup      F        分享 韓國輸...    這篇跟上一篇的溫柔...
#> 4 232517835 freshman      F   急！《彩      式...    大家好～\n因為比賽...
#> 5 232516213 freshman      M    成大是ㄅ是都4廢...       如T\n開戰阿\n窩...
#> 6 232515512 freshman      M     我要想過泓光跟...      除了分數比較差異...
length(post_ids)
length(content)
length(gender)
# Your code goes here
post_ids <- c()
contents <- c()
forum <- c()
gender <- c()
title <- c()
for (f in c("makeup", "freshmen")) {
resp_f <- GET(base_url, path = c("_api", "forums", f ,"posts"))
for (i in 1:3) {
post_id <- content(resp_f)[[i]]$id
resp_p <- GET(base_url, path = c("_api", "post", post_id))
post_ids <- c(post_ids, post_id)
contents <- c(contents, content(resp_p)$content)
forum <- c(forum, f)
gender <- c(gender, content(resp_p)$gender)
title <- c(title, content(resp_p)$title)
}
}
df <- data.frame("id" = post_ids, "forum" = forum, "gender" = gender, "title" = title, "content" = contents)
df
# Should print out something like:
#>          id    forum gender              title                  content
#> 1 232519207   makeup      F             皮膚細...    每次上網看人家形容...
#> 2 232518995   makeup      F       終於考完期中...      對於愛看棒球的我...
#> 3 232518833   makeup      F        分享 韓國輸...    這篇跟上一篇的溫柔...
#> 4 232517835 freshman      F   急！《彩      式...    大家好～\n因為比賽...
#> 5 232516213 freshman      M    成大是ㄅ是都4廢...       如T\n開戰阿\n窩...
#> 6 232515512 freshman      M     我要想過泓光跟...      除了分數比較差異...
# Your code goes here
post_ids <- c()
contents <- c()
forum <- c()
gender <- c()
title <- c()
for (f in c("makeup", "freshmen")) {
resp_f <- GET(base_url, path = c("_api", "forums", f ,"posts"))
for (i in 1:3) {
post_id <- content(resp_f)[[i]]$id
resp_p <- GET(base_url, path = c("_api", "post", post_id))
post_ids <- c(post_ids, post_id)
contents <- c(contents, content(resp_p)$content)
forum <- c(forum, f)
gender <- c(gender, content(resp_p)$gender)
title <- c(title, content(resp_p)$title)
}
}
df <- data.frame("id" = post_ids, "forum" = forum, "gender" = gender, "title" = title, "content" = contents)
df
# Should print out something like:
#>          id    forum gender              title                  content
#> 1 232519207   makeup      F             皮膚細...    每次上網看人家形容...
#> 2 232518995   makeup      F       終於考完期中...      對於愛看棒球的我...
#> 3 232518833   makeup      F        分享 韓國輸...    這篇跟上一篇的溫柔...
#> 4 232517835 freshman      F   急！《彩      式...    大家好～\n因為比賽...
#> 5 232516213 freshman      M    成大是ㄅ是都4廢...       如T\n開戰阿\n窩...
#> 6 232515512 freshman      M     我要想過泓光跟...      除了分數比較差異...
resp_p
length(resp_p)
c <- content(resp_p)$content
c
c <- content(resp_p)[["content"]]
c
content(resp_p)
post_id
resp_p
# Your code goes here
post_ids <- c()
contents <- c()
forum <- c()
gender <- c()
title <- c()
for (f in c("makeup", "freshmen")) {
resp_f <- GET(base_url, path = c("_api", "forums", f ,"posts"))
for (i in 1:3) {
post_id <- content(resp_f)[[i]]$id
resp_p <- GET(base_url, path = c("_api", "posts", post_id))
post_ids <- c(post_ids, post_id)
contents <- c(contents, content(resp_p)$content)
forum <- c(forum, f)
gender <- c(gender, content(resp_p)$gender)
title <- c(title, content(resp_p)$title)
}
}
df <- data.frame("id" = post_ids, "forum" = forum, "gender" = gender, "title" = title, "content" = contents)
df
# Should print out something like:
#>          id    forum gender              title                  content
#> 1 232519207   makeup      F             皮膚細...    每次上網看人家形容...
#> 2 232518995   makeup      F       終於考完期中...      對於愛看棒球的我...
#> 3 232518833   makeup      F        分享 韓國輸...    這篇跟上一篇的溫柔...
#> 4 232517835 freshman      F   急！《彩      式...    大家好～\n因為比賽...
#> 5 232516213 freshman      M    成大是ㄅ是都4廢...       如T\n開戰阿\n窩...
#> 6 232515512 freshman      M     我要想過泓光跟...      除了分數比較差異...
resp_p
content(resp_p)$content
content(resp_p)$gender
# Your code goes here
post_ids <- c()
contents <- c()
forum <- c()
gender <- c()
title <- c()
for (f in c("makeup", "freshmen")) {
resp_f <- GET(base_url, path = c("_api", "forums", f ,"posts"))
for (i in 1:3) {
post_id <- content(resp_f)[[i]]$id
resp_p <- GET(base_url, path = c("_api", "posts", post_id))
post_ids <- c(post_ids, post_id)
contents <- c(contents, content(resp_p)$content)
forum <- c(forum, f)
gender <- c(gender, content(resp_p)$gender)
title <- c(title, content(resp_p)$title)
}
}
df <- data.frame("id" = post_ids, "forum" = forum, "gender" = gender, "title" = title, "content" = contents)
df
# Should print out something like:
#>          id    forum gender              title                  content
#> 1 232519207   makeup      F             皮膚細...    每次上網看人家形容...
#> 2 232518995   makeup      F       終於考完期中...      對於愛看棒球的我...
#> 3 232518833   makeup      F        分享 韓國輸...    這篇跟上一篇的溫柔...
#> 4 232517835 freshman      F   急！《彩      式...    大家好～\n因為比賽...
#> 5 232516213 freshman      M    成大是ㄅ是都4廢...       如T\n開戰阿\n窩...
#> 6 232515512 freshman      M     我要想過泓光跟...      除了分數比較差異...
content(resp_p)$title
# Your code goes here
post_ids <- c()
contents <- c()
forum <- c()
gender <- c()
title <- c()
for (f in c("makeup", "freshmen")) {
resp_f <- GET(base_url, path = c("_api", "forums", f ,"posts"))
for (i in 1:3) {
post_id <- content(resp_f)[[i]][["id"]]
resp_p <- GET(base_url, path = c("_api", "posts", post_id))
post_ids <- c(post_ids, post_id)
contents <- c(contents, content(resp_p)$content)
forum <- c(forum, f)
gender <- c(gender, content(resp_p)$gender)
title <- c(title, content(resp_p)$title)
}
}
df <- data.frame("id" = post_ids, "forum" = forum, "gender" = gender, "title" = title, "content" = contents)
df
# Should print out something like:
#>          id    forum gender              title                  content
#> 1 232519207   makeup      F             皮膚細...    每次上網看人家形容...
#> 2 232518995   makeup      F       終於考完期中...      對於愛看棒球的我...
#> 3 232518833   makeup      F        分享 韓國輸...    這篇跟上一篇的溫柔...
#> 4 232517835 freshman      F   急！《彩      式...    大家好～\n因為比賽...
#> 5 232516213 freshman      M    成大是ㄅ是都4廢...       如T\n開戰阿\n窩...
#> 6 232515512 freshman      M     我要想過泓光跟...      除了分數比較差異...
content(resp_f)[[1]][["id"]]
content(resp_f)[[1]]
resp_f
for (f in c("makeup", "freshmen")) {
resp_f <- GET(base_url, path = c("_api", "forums", f ,"posts"))
resp_f
resp_f
# Your code goes here
post_ids <- c()
contents <- c()
forum <- c()
gender <- c()
title <- c()
for (f in c("makeup", "freshman")) {
resp_f <- GET(base_url, path = c("_api", "forums", f ,"posts"))
for (i in 1:3) {
post_id <- content(resp_f)[[i]][["id"]]
resp_p <- GET(base_url, path = c("_api", "posts", post_id))
post_ids <- c(post_ids, post_id)
contents <- c(contents, content(resp_p)$content)
forum <- c(forum, f)
gender <- c(gender, content(resp_p)$gender)
title <- c(title, content(resp_p)$title)
}
}
df <- data.frame("id" = post_ids, "forum" = forum, "gender" = gender, "title" = title, "content" = contents)
df
# Should print out something like:
#>          id    forum gender              title                  content
#> 1 232519207   makeup      F             皮膚細...    每次上網看人家形容...
#> 2 232518995   makeup      F       終於考完期中...      對於愛看棒球的我...
#> 3 232518833   makeup      F        分享 韓國輸...    這篇跟上一篇的溫柔...
#> 4 232517835 freshman      F   急！《彩      式...    大家好～\n因為比賽...
#> 5 232516213 freshman      M    成大是ㄅ是都4廢...       如T\n開戰阿\n窩...
#> 6 232515512 freshman      M     我要想過泓光跟...      除了分數比較差異...
# Your code goes here
post_ids <- c()
contents <- c()
forum <- c()
gender <- c()
title <- c()
for (f in c("makeup", "freshman")) {
resp_f <- GET(base_url, path = c("_api", "forums", f ,"posts"))
for (i in 1:3) {
post_id <- content(resp_f)[[i]]$id
resp_p <- GET(base_url, path = c("_api", "posts", post_id))
post_ids <- c(post_ids, post_id)
contents <- c(contents, content(resp_p)$content)
forum <- c(forum, f)
gender <- c(gender, content(resp_p)$gender)
title <- c(title, content(resp_p)$title)
}
}
df <- data.frame("id" = post_ids, "forum" = forum, "gender" = gender, "title" = title, "content" = contents)
df
# Should print out something like:
#>          id    forum gender              title                  content
#> 1 232519207   makeup      F             皮膚細...    每次上網看人家形容...
#> 2 232518995   makeup      F       終於考完期中...      對於愛看棒球的我...
#> 3 232518833   makeup      F        分享 韓國輸...    這篇跟上一篇的溫柔...
#> 4 232517835 freshman      F   急！《彩      式...    大家好～\n因為比賽...
#> 5 232516213 freshman      M    成大是ㄅ是都4廢...       如T\n開戰阿\n窩...
#> 6 232515512 freshman      M     我要想過泓光跟...      除了分數比較差異...
knitr::opts_chunk$set(echo = TRUE)
library(PTTmineR)
rookie_miner <- PTTmineR$new(task.name = "py")
rookie_miner %>%
mine_ptt(board = "Gossiping",
last.n.page = 10)
rookie_miner %>%
mine_ptt(board = "Python",
last.n.page = 10)
rookie_miner %>%
mine_ptt(board = "Python",
last.n.page = 10)
## install remotes pkg if not already
if (!requireNamespace("remotes")) {
install.packages("remotes")
}
## install from github
remotes::install_github("mkearney/rreddit")
d <- get_r_reddit("dataisbeautiful", n = 100)
library("rreddit")
d <- get_r_reddit("dataisbeautiful", n = 100)
d
d <- get_r_reddit("python", n = 100)
d
library(PTTmineR)
rookie_miner <- PTTmineR$new(task.name = "r&py")
rookie_miner %>%
mine_ptt(board = "R_Language",
last.n.page = 10)
rookie_miner
rookie_miner %>%
mine_ptt(board = "Python",
last.n.page = 10)
rookie_miner %>%
mine_ptt(board = "Python",
last.n.page = 1)
rookie_miner %>%
mine_ptt(board = "Python",
last.n.page = 5)
rookie_miner %>%
mine_ptt(board = "Gossiping",
last.n.page = 5)
rookie_miner
mine_ptt(ptt.miner = rookie_miner,
board = "Gossiping",
last.n.page = 10)
rookie_miner
library(PTTmineR)
rookie_miner <- PTTmineR$new(task.name = "r&py")
mine_ptt(ptt.miner = rookie_miner,
board = "Gossiping",
last.n.page = 10)
rookie_miner
install.packages("cliapp")
mine_ptt(ptt.miner = rookie_miner,
board = "Gossiping",
last.n.page = 10)
rookie_miner
install.packages("cli")
install.packages("cli")
install.packages("cli")
install.packages("cli")
install.packages("cli")
knitr::opts_chunk$set(echo = TRUE)
mine_ptt(ptt.miner = rookie_miner,
board = "Gossiping",
last.n.page = 10)
library(PTTmineR)
rookie_miner <- PTTmineR$new(task.name = "r&py")
mine_ptt(ptt.miner = rookie_miner,
board = "Gossiping",
last.n.page = 10)
rookie_miner
rookie_miner$result_dt
library(PTTmineR)
rookie_miner <- PTTmineR$new(task.name = "r&py")
mine_ptt(ptt.miner = rookie_miner,
board = "Gossiping",
last.n.page = 10)
library(PTTmineR)
rookie_miner <- PTTmineR$new(task.name = "r&py")
mine_ptt(ptt.miner = rookie_miner,
board = "Python",
last.n.page = 10)
mine_ptt(ptt.miner = rookie_miner,
board = "Python",
last.n.page = 10)
mine_ptt(ptt.miner = rookie_miner,
board = "Python",
last.n.page = 1)
library(PTTmineR)
rookie_miner <- PTTmineR$new(task.name = "r&py")
rookie_miner
library(PTTmineR)
rookie_miner <- PTTmineR$new(task.name = "r&py")
rookie_miner
rookie_miner$result_dt
library(PTTmineR)
rookie_miner <- PTTmineR$new(task.name = "r&py")
View(rookie_miner)
rookie_miner %>%
mine_ptt(board = "Python",
last.n.page = 10)
rookie_miner$result_dt
rookie_miner <- PTTmineR$new(task.name = "TEST")
rookie_miner %>%
mine_ptt(board = "Python",
last.n.page = 10)
remotes::install_github("liao961120/pttR", ref = "build")
install.packages("remotes")
remotes::install_github("liao961120/pttR", ref = "build")
install.packages("remotes")
remotes::install_github("liao961120/pttR", ref = "build")
library(readr)
reddit_python <- read_csv("GitHub/comPyRison/data/reddit_python.csv")
View(reddit_python)
library(dplyr)
reddit_python %>% mutate(length = length(selftext))
reddit_python <- reddit_python %>% mutate(length = length(selftext))
reddit_python <- reddit_python %>% mutate(length = nchar(selftext))
reddit_python <- reddit_python %>% mutate(length = length( strsplit(selftext)))
reddit_python <- reddit_python %>% mutate(length = length( strsplit(selftext, " ")))
View(reddit_python)
reddit_python <- reddit_python %>% group_by(full_link) %>% mutate(length = length( strsplit(selftext, " ")))
reddit_python <- reddit_python[10, ] %>% group_by(full_link) %>% mutate(length = length(strsplit(selftext, " ")))
View(reddit_python)
library(readr)
reddit_python <- read_csv("GitHub/comPyRison/data/reddit_python.csv")
View(reddit_python)
knitr::opts_chunk$set(echo = TRUE)
library(readr)
reddit_python <- read_csv("./reddit_python.csv")
setwd("~/GitHub/comPyRison")
library(readr)
reddit_python <- read_csv("./data/reddit_python.csv")
reddit_python[10, ]
library(readr)
reddit_python <- read_csv("./data/reddit_python.csv")
reddit_python[1:10, ]
?reddit_python
?get_r_reddit
library(rreddit)
?get_r_reddit
library(readr)
library(dplyr)
library(stringr)
reddit_python <- read_csv("./data/reddit_python.csv")
reddit_python[1:10, ] %>%
group_by(id) %>%
mutate(length = length(str_split(selftext, " ")))
library(readr)
library(dplyr)
library(stringr)
reddit_python <- read_csv("./data/reddit_python.csv")
keeps <- c("author", "created_utc", "id", "url", "score", "selftext", "title")
reddit_python[1:10, keeps] %>%
group_by(id) %>%
mutate(length = length(str_split(selftext, " ")))
library(readr)
library(dplyr)
library(stringr)
reddit_python <- read_csv("./data/reddit_python.csv")
keeps <- c("author", "created_utc", "id", "url", "score", "selftext", "title")
reddit_python[keeps] %>%
group_by(id) %>%
mutate(length = length(str_split(selftext, " ")))
library(readr)
library(dplyr)
library(stringr)
reddit_python <- read_csv("./data/reddit_python.csv")
keeps <- c("author", "created_utc", "id", "url", "score", "selftext", "title")
reddit_python[keeps] %>%
group_by(id) %>%
mutate(length = length(unlist(strsplit(selftext, " "))))
library(readr)
library(dplyr)
library(stringr)
reddit_python <- read_csv("./data/reddit_python.csv")
keeps <- c("author", "created_utc", "id", "url", "score", "selftext", "title")
reddit_python <- reddit_python[keeps] %>%
group_by(id) %>%
mutate(length = length(unlist(strsplit(selftext, " "))))
reddit_python[c(1,10,100,1000,10000), ]
reddit_python[1, "selftext"]
reddit_python$selftext[1]
m <- str_match_all(reddit_python$selftext[1])
m <- str_match_all(reddit_python$selftext[1], "?")
?str_match_all
m <- str_match_all(reddit_python$selftext[1], "\?")
m <- str_match_all(reddit_python$selftext[1], "[?]")
m
class(m)
s <- "i don't know? so you know??"
m <- str_match_all(s, "\?")
m <- str_match_all(s, "\\?")
m
unlist(m)
length(unlist(m))
library(readr)
library(dplyr)
library(stringr)
reddit_python <- read_csv("./data/reddit_python.csv")
keeps <- c("author", "created_utc", "id", "url", "score", "selftext", "title")
reddit_python <- reddit_python[keeps] %>%
group_by(id) %>%
mutate(length = length(unlist(strsplit(selftext, " "))), q_marks = length(unlist(str_match_all(selftext, "\\?"))))
reddit_python[c(1,10,100,1000,10000), ]
reddit_python <- reddit_python %>%
group_by(author) %>%
mutate(total_post = n())
reddit_python[c(1,10,100,1000,10000), ]
write.csv(reddit_python, file = "./data/reddit_python_clean.csv")
